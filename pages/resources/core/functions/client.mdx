import { Callout } from "nextra/components";

# Client

## Exports

<Callout type="info">
  called using `exports.qbx_core:<FunctionName>`
</Callout>


### Notify

Text box popup for player which dissappears after a set time.

```lua
---@param text table|string text of the notification
---@param notifyType? NotificationType informs default styling. Defaults to 'inform'
---@param duration? integer milliseconds notification will remain on screen. Defaults to 5000
---@param subTitle? string extra text under the title
---@param notifyPosition? NotificationPosition
---@param notifyStyle? table Custom styling. Please refer too https://overextended.dev/ox_lib/Modules/Interface/Client/notify#libnotify
---@param notifyIcon? string Font Awesome 6 icon name
---@param notifyIconColor? string Custom color for the icon chosen before
```

## Module: utils

<Callout type="info">
  called using `<FunctionName>`
</Callout>

### DrawText2D

Draws Text onto the screen in 2D

```lua
---@param text string
---@param coords vector2
---@param width? number
---@param height? number
---@param scale? number 0.0-10.0
---@param font? integer
---@param r? integer red 0-255
---@param g? integer green 0-255
---@param b? integer blue 0-255
---@param a? integer alpha 0-255
```

### DrawText3D

Draws Text onto the screen in 3D

```lua
---@param coords vector3
---@param text string
---@param scale? number
---@param font? integer
---@param r? integer red 0-255
---@param g? integer green 0-255
---@param b? integer blue 0-255
---@param a? integer alpha 0-255
```

### GetEntityAndNetIdFromBagName

Wrapper for getting an entity handle and network id from a state bag name, [source](https://github.com/overextended/ox_core/blob/main/client/utils.lua)

```lua
---@async
---@param bagName string
---@return integer, integer
```

### EntityStateHandler

Wrapper for a state bag handler made for entities, [source](https://github.com/overextended/ox_core/blob/main/client/utils.lua)

```lua
---@param keyFilter string
---@param cb fun(entity: number, netId: number, value: any, bagName: string)
---@return number
```

### PlayAnim

Play an animation

```lua
---@async
---@param animDict string
---@param animName string
---@param upperbodyOnly boolean
---@param duration integer ms
```

### GetEntities

Returns the entities from the specified pool in the current scope

```lua
---@param pool string
---@param ignoreList? integer[]
---@return integer[]
```

### GetVehicles

Returns all vehicles in the current scope

```lua
---@param ignoreList? integer[] ignore specific vehicle handles
---@return integer[]
```

### GetObjects

Returns all objects in the current scope

```lua
---@param ignoreList? integer[] ignore specific object handles
---@return integer[]
```

### GetPeds

Returns all peds in the current scope

```lua
---@param ignoreList? integer[] ignore specific ped handles
---@return integer[]
```

### GetPickups

Returns all pickups in the current scope

```lua
---@param ignoreList? integer[] ignore specific pickup handles
---@return integer[]
```

### GetPlayersInScope

Returns all players in the current scope

```lua
---@param ignoreList? integer[] ignore specific player ids
---@return integer[]
```

### GetClosestEntity

Returns the closest entity from the list and the specified coords (if set)

```lua
---@param entities integer[]
---@param coords vector3? if unset uses player coords
---@return integer closestObj or -1
---@return number closestDistance or -1
```

### GetClosestPed

Returns the closest ped.
Use QBX.Functions.GetClosestPlayer if wanting to ignore non-player peds.

```lua
---@param coords? vector3 uses player position if not set
---@param ignoreList? integer[]
---@return integer closestPed or -1
---@return number closestDistance or -1
```

### GetClosestVehicle

Returns the closest vehicle

```lua
---@param coords? vector3 uses player position if not set
---@param ignoreList? integer[]
---@return integer? vehicle
---@return number? closestDistance
```

### GetClosestObject

Returns the closest object

```lua
---@return number?
---@return integer|nil
```

### DeleteVehicle

Deletes the specified vehicle

```lua
---@param vehicle integer
---@return boolean
```

### GetClosestPlayer

Returns the closest player

```lua
---@param coords? vector3 uses player position if not set
---@param maxDistance? number
---@return integer? playerId
---@return number? closestDistance
```

### GetPlayersFromCoords

Returns the players close to the coords

```lua
---@param coords? vector3 uses player position if not set
---@param distance? number
---@return number[] playerIds
```

### GetClosestBone

Returns the closest bone to the local ped of the specified entity

```lua
---@param entity integer
---@param list integer[] | {id: integer}[] bones
---@return integer | {id: integer} | {id: integer, type: string, name: string}
---@return vector3 boneCoords
---@return number boneDistance
```

### GetBoneDistance

Returns the distance from the player to the bone

```lua
---@param entity integer
---@param boneType integer
---@param bone string | integer
---@return number distance
```

### AttachProp

```lua
---@param ped integer
---@param model string | integer
---@param boneId integer
---@param x number
---@param y number
---@param z number
---@param xR number
---@param yR number
---@param zR number
---@param vertex boolean
---@return integer prop
```

### GetVehicleDisplayName

Returns the model name of the vehicle

```lua
---@param vehicle integer
---@return string
```

### GetVehicleMakeName

Returns the brand name of the vehicle

```lua
---@param vehicle integer
---@return string
```

### IsVehicleSpawnClear

Check if there is no vehicle obstructing the coords

```lua
---@param coords vector3? defaults to player position
---@param radius? number
---@return boolean
```

### StartParticleAtCoord

Spawns a particle at the coords

```lua
---@param dict string
---@param ptName string
---@param looped boolean
---@param coords? vector3 defaults to player position
---@param rot vector3
---@param scale? number defaults to 1.0
---@param alpha? number defaults to 1.0
---@param color? {r: number, g: number, b: number}
---@param duration? integer ms
---@return integer
```

### StartParticleOnEntity

Spawns a particle on the specified entity

```lua
---@param dict string
---@param ptName string
---@param looped boolean
---@param entity integer
---@param bone? string | number
---@param offset vector3
---@param rot vector3
---@param scale? number defaults to 1.0
---@param alpha? number defaults to 1.0
---@param color? {r: number, b: number, g: number}
---@param evolution? {name: string, amount: number}
---@param duration? integer ms
---@return number
```

### GetStreetNameAtCoords

Returns the street name and cross section from the coords

```lua
---@param coords vector3
---@return {main: string, cross: string}
```

### GetZoneAtCoords

Returns the name of the zone at the specified coords

```lua
---@param coords vector3
---@return string
```

### GetCardinalDirection

Returns the direction the specified entity or local ped is standing towards

```lua
---@param entity? number defaults to player ped
---@return 'North' | 'South' | 'East' | 'West' | string direction or error message
```

### GetCurrentTime

Returns the current time in-game

```lua
---@class CurrentTime
---@field formattedMin string
---@field formattedHour integer
---@field ampm 'AM' | 'PM'
---@field min number
---@field hour number

---@return CurrentTime
```

### GetGroundZCoord

Returns the z coord at the first ground the game can find

```lua
---@param coords vector3
---@return vector3?
```

### ClearAllVehicleExtras

Clear all vehicle extras

```lua
---@param vehicle integer
```

### ChangeVehicleExtra

Set the status of an extra on the vehicle

```lua
---@param vehicle integer
---@param extra integer
---@param enable boolean
```

### SetVehicleExtras

Set the vehicle extras of a vehicle according to a table

```lua
---@param vehicle integer
---@param extras table<integer, boolean>
```

### IsWearingGloves

Returns if the local ped is wearing gloves

```lua
---@return boolean
```
